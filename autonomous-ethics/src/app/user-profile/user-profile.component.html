<main>
  <h1>User profile</h1>
  <span>Please, fill in your informations for statistics purposes</span>

  <form [formGroup]="userProfileForm" enctype="multipart/form-data">
    <label for="age">Age</label>
    <input formControlName="age" name="age" id="age" type="number" min="0">

    <label for="gender">Gender</label>
    <select formControlName="gender" name="gender" id="gender">
      <option *ngFor="let g of this.genders" [value]="g">{{g}}</option>
    </select>

    <label for="religion">Religion</label>
    <select formControlName="religion" name="religion" id="religion">
      <option *ngFor="let r of this.religions" value="{{r}}">{{r}}</option>
    </select>

    <label for="politics">Political orientation</label>
    <select formControlName="politics" name="politics" id="politics">
      <option *ngFor="let p of this.political_orientations" value="{{p}}">{{p}}</option>
    </select>

    <label for="education">Highest level of education</label>
    <select formControlName="education" name="education" id="education">
      <option *ngFor="let e of this.education" value="{{e}}">{{e}}</option>
    </select>

    <label for="income">Annual income, including tips, dividends, interests, etc... (in US Dollars)</label>
    <select formControlName="income" name="income" id="income">
      <option *ngFor="let i of this.income" value="{{i}}">{{i}}</option>
    </select>

    <label for="country">Country</label>
    <select formControlName="country" name="country" id="country">
      <option *ngFor="let c of this.countries" [value]="c">{{c}}</option>
    </select>
  </form>

  <button id="submit" type="submit" (click)="submitForm()">Submit</button>

  <div id="errors" *ngIf="userProfileForm.status === 'INVALID' && this.requestedValidation">
    <h1 id="errors-title">ERRORS</h1>
    <p class="error" *ngIf="userProfileForm.controls['age'].pristine">Age is required</p>
    <p class="error" *ngIf="userProfileForm.controls['gender'].pristine">Gender is required</p>
    <p class="error" *ngIf="userProfileForm.controls['religion'].pristine">Religion is required</p>
    <p class="error" *ngIf="userProfileForm.controls['politics'].pristine">Political orientation is required</p>
    <p class="error" *ngIf="userProfileForm.controls['education'].pristine">Education level is required</p>
    <p class="error" *ngIf="userProfileForm.controls['income'].pristine">Income bracket is required</p>
    <p class="error" *ngIf="userProfileForm.controls['country'].pristine">Country is required</p>

    <p class="error" *ngIf="!userProfileForm.controls['age'].pristine && userProfileForm.controls['age'].invalid">Age is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['gender'].pristine && userProfileForm.controls['age'].invalid">Gender is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['religion'].pristine && userProfileForm.controls['religion'].invalid">Religion is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['politics'].pristine && userProfileForm.controls['politics'].invalid">Political orientation is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['education'].pristine && userProfileForm.controls['education'].invalid">Education level is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['income'].pristine && userProfileForm.controls['income'].invalid">Income bracket is incorrect</p>
    <p class="error" *ngIf="!userProfileForm.controls['country'].pristine && userProfileForm.controls['country'].invalid">Country is incorrect</p>
  </div>
</main>
